<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<link rel="icon" href="icon.svg" />
	<title>True Random Movie</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#ff0000">
	<link rel="manifest" href="manifest.webmanifest">
	<style>
		html, body {
			margin: 0;
			width: 100%;
			height: 100%;
		}
		#layout {
			width: 100%;
			height: 100%;
			position: relative;
		}
		#grande-roulette {
			position: fixed;
			top: 0;
			bottom: 0;
			right: 0;
			left: 50%;
			transition: left ease-in-out 1s;
		}
		#info {
			text-align: center;
			margin-right: 50%;
			transition: margin-right ease-in-out 1s, opacity ease-in-out 1s;
		}

		/*
		button styles based on:
			https://codepen.io/kocsten/pen/rggjXp
		I might eventually do something more like
			https://jsfiddle.net/1j01/z9ym71v5/9/
		or maybe
			https://codepen.io/cesar2535/pen/ByYXpN
		and I could separate the callout to something like
			https://codepen.io/mccombsc/pen/ZEzxWPy
		*/
		#go {
			padding: 15px;
			font-size: 30px;
			border: none;
			outline: none;
			color: #fff;
			background: #111;
			cursor: pointer;
			position: relative;
			z-index: 0;
			border-radius: 10px;
		}

		#go:before {
			content: '';
			background: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
			position: absolute;
			top: -2px;
			left:-2px;
			background-size: 400%;
			z-index: -1;
			filter: blur(5px);
			width: calc(100% + 4px);
			height: calc(100% + 4px);
			animation: glowing 20s linear infinite;
			opacity: 0;
			transition: opacity .3s ease-in-out;
			border-radius: 10px;
		}

		#go:active {
			color: #000
		}

		#go:active:after {
			background: transparent;
		}

		#go:hover:before,
		#go:focus:before {
			opacity: 1;
		}

		#go:after {
			z-index: -1;
			content: '';
			position: absolute;
			width: 100%;
			height: 100%;
			background: #111;
			left: 0;
			top: 0;
			border-radius: 10px;
		}

		@keyframes glowing {
			0% { background-position: 0 0; }
			50% { background-position: 400% 0; }
			100% { background-position: 0 0; }
		}

		#title-output h2 {
			font-variant: small-caps;
			font-size: 3em;
			margin: 0;
		}
		#title-output h3 {
			font-size: 2em;
			margin: 0;
		}
		#title-output h4 {
			font-size: 1.5em;
			margin: 0;
		}
		#title-output h5 {
			font-size: 1.2em;
			margin: 0;
		}
		#title-output h6 {
			font-size: 1em;
			margin: 0;
		}
		#instance-output {
			font-size: 2em;
			color: gray;
			margin-bottom: 1em;
		}
		#title-output {
			margin: auto;
			margin-top: 1em;
			max-width: 50em;
		}

		#grande-roulette-items {
			overflow: hidden;
			height: 100%;
			width: 100%;
			position: relative;
			--item-height: 40px;
			--peg-size: 5px;
		}
		.grande-roulette-item {
			position: absolute;
			top: 50%;
			right: 0;
			left: 0;
			height: var(--item-height);
			line-height: var(--item-height);
			font-size: calc(var(--item-height) * 0.6);
			white-space: nowrap;
			text-align: left;
			padding-left: 15px;
			font-weight: bold;
			/* color: black; */
			color: white;
			text-shadow:
				-1px -1px 0 #000,
				1px -1px 0 #000,
				-1px 1px 0 #000,
				1px 1px 0 #000,
				-1px 0 0 #000,
				0 -1px 0 #000,
				-0 1px 0 #000,
				1px 0 0 #000;
		}
		.grande-roulette-item::before,
		.grande-roulette-item::after {
			content: "";
			display: block;
			position: absolute;
			left: 0;
			width: var(--peg-size);
			height: var(--peg-size);
			background: rgb(37, 37, 37);
			border-radius: 50%;
		}
		.grande-roulette-item::before {
			top: calc(var(--peg-size) / -2);
		}
		.grande-roulette-item::after {
			bottom: calc(var(--peg-size) / -2);
		}
		#grande-roulette-ticker {
			position: absolute;
			top: 50%;
			right: calc(100% - 5px);
			width: 0; 
			height: 0; 
			border-top: 60px solid transparent;
			border-bottom: 60px solid transparent;
			border-left: 60px solid red;
			transform: translateY(-50%) scaleY(0.5);
			transform-origin: 0% 50%;
			z-index: 1;
		}
		/* #grande-roulette-center {
			position: absolute;
			top: 50%;
			right: calc(100% - 5px);
			width: 100px; 
			height: 0; 
			border-bottom: 1px solid black;
			transform: translateY(-50%);
			transform-origin: 0% 50%;
			z-index: 2;
		} */
		@media (max-width: 500px) {
			.spinner-active #grande-roulette {
				left: 45px;
			}
			body:not(.spinner-active) #grande-roulette {
				left: 95%;
				pointer-events: none;
			}
			body:not(.spinner-active) #info {
				margin-right: 5%;
			}
			body.spinner-active #info {
				opacity: 0;
			}
		}
	</style>
</head>

<body>
	<div id="layout">
		<div id="info">
			<h1>True Random Movie</h1>
			<a href="https://github.com/1j01/true-random-movie">Source Code on GitHub</a>
			<br>
			<br>
			<button id="go" autofocus>Random Movie</button>
			<div id="result" hidden>
				<div id="title-output"></div>
				<div id="instance-output"></div>
				<a id="watch-online-link">watch online</a>
			</div>
		</div>
		<div id="grande-roulette">
			<div id="grande-roulette-ticker"></div>
			<!-- <div id="grande-roulette-center"></div> -->
			<div id="grande-roulette-items"></div>
		</div>
	</div>
	<script src="app.js" type="module"></script>
</body>

</html>